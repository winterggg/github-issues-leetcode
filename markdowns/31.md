---
created_at: 2023-04-16 16:09:07
issue_number: 31
tags:
- ~Medium
- '#Array'
- -Like
- '#Matrix'
- '#Simulation'
- -Review
title: 54. èžºæ—‹çŸ©é˜µ
updated_at: 2023-04-23 19:47:41
---

# é—®é¢˜

https://leetcode.cn/problems/spiral-matrix/submissions/

# ç¬”è®°

ä¸»è¦æœ‰ä¸¤ç§è§£æ³•ï¼šä»£ç ç®€æ´çš„åæ ‡è½´åç§»æ³• å’Œ ä¼ ç»Ÿæ¨¡æ‹Ÿæ–¹æ³•ï¼š
1. è‡ªå·±å†™çš„åæ ‡è½´åç§»ï¼›
2. è¯„è®ºåŒºå¤§ä½¬å†™çš„åæ ‡è½´åç§»ï¼›
3. è‡ªå·±å†™çš„ä¼ ç»Ÿæ¨¡æ‹Ÿæ–¹æ³•ï¼Œw, h = m, n è¡¨ç¤ºå‰©ä½™å—çš„å®½åº¦å’Œé«˜åº¦ï¼Œç”¨æ¥æŽ§åˆ¶å¾ªçŽ¯è·³å‡ºå’Œå†…å±‚æ¨¡æ‹Ÿã€‚

# ä»£ç 

## Python

### æ–¹æ³•ä¸€ï¼š

```python
dx = [0, 1, 0, -1]
dy = [1, 0, -1, 0]
VISITED = None

class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        n, m = len(matrix), len(matrix[0])

        res = []
        x, y = 0, 0
        i = 0
        for _ in range(n * m):
            res.append(matrix[x][y])
            matrix[x][y] = VISITED
            x += dx[i]
            y += dy[i]
            if not ( 0 <= x < n and 0 <= y < m ) or matrix[x][y] == VISITED:
                x -= dx[i]
                y -= dy[i]
                i = (i + 1) % 4
                x += dx[i]
                y += dy[i]
        
        return res
```

### æ–¹æ³•äºŒï¼š

```python
class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        r, i, j, di, dj = [], 0, 0, 0, 1
        if matrix != []:
            for _ in range(len(matrix) * len(matrix[0])):
                r.append(matrix[i][j])
                matrix[i][j] = 0
                if matrix[(i + di) % len(matrix)][(j + dj) % len(matrix[0])] == 0:
                    di, dj = dj, -di
                i += di
                j += dj
        return r
```

### æ–¹æ³•ä¸‰ï¼š

```python
class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        n, m = len(matrix), len(matrix[0])
        res = []
        x, y = 0, 0
        w, h = m, n # å‰©ä½™å—çš„å®½åº¦å’Œé«˜åº¦ï¼Œç”¨æ¥æŽ§åˆ¶å¾ªçŽ¯è·³å‡ºå’Œå†…å±‚æ¨¡æ‹Ÿ
        
        while w > 0 and h > 0:
            # corner case 
            if w == 1:
                for _ in range(h):
                    res.append(matrix[x][y])
                    x += 1
                break
            
            if h == 1:
                for _ in range(w):
                    res.append(matrix[x][y])
                    y += 1
                break

            # ðŸ‘‰
            for _ in range(w - 1):
                res.append(matrix[x][y])
                y += 1
            
            # ðŸ‘‡
            for _ in range(h - 1):
                res.append(matrix[x][y])
                x += 1
            
            # ðŸ‘ˆ
            for _ in range(w - 1):
                res.append(matrix[x][y])
                y -= 1
            
            # ðŸ‘†
            for _ in range(h - 1):
                res.append(matrix[x][y])
                x -= 1
            
            x += 1
            y += 1
            w -= 2
            h -= 2
            
        return res 
```